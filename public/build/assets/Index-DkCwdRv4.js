import{d as M,A as h,c as A,a as w,e as a,u as t,h as W,w as s,g as m,b as o,o as d,z as q,i as r,j as x,x as H,F as S,B as I,t as u,C as X,l as G,D}from"./app-CGCrkDAk.js";import{_ as V}from"./index-BkvyfrpA.js";import{S as L,_ as J,a as O,b as $,c as b,d as Q,e as f,f as R}from"./Pagination.vue_vue_type_script_setup_true_lang-BonCI1Ln.js";import{_ as T,a as U,b as j,c as B,d as C}from"./SelectValue.vue_vue_type_script_setup_true_lang-BalRsmVg.js";import{_ as F}from"./Input.vue_vue_type_script_setup_true_lang-CPdG0onq.js";import{_ as Y}from"./index-td2UxUZz.js";import{_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-jsF6Rd-b.js";import{X as ee}from"./x-BKbi-K4p.js";import{c as te}from"./createLucideIcon-D0BTc4jw.js";import{F as ae}from"./file-text-CFzdRFVD.js";import{E as se}from"./eye-DdxRhLoY.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardPropsEmits-eJSDdWRY.js";import"./VisuallyHidden-C3_DIH2-.js";import"./index-ibSaU8ej.js";import"./useForwardExpose-DXgLtNcZ.js";import"./RovingFocusGroup-CzTOgVIS.js";import"./check-CWQPguqC.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./useFormControl-_38DnNvm.js";import"./index-CqmfE78h.js";import"./index-CSEUMRIG.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BTNcwPF7.js";const oe=te("InboxIcon",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),re={class:"leads-manager relative flex h-full flex-1 flex-col gap-6 p-4 md:p-8"},de={class:"relative"},ne={class:"flex flex-col gap-3 lg:flex-row lg:items-center lg:gap-3"},ie={class:"relative flex-1 lg:min-w-[240px] lg:max-w-[320px]"},ue={class:"flex gap-2"},me={class:"flex items-center gap-2 lg:ml-auto"},fe={class:"table-container relative overflow-hidden rounded-xl border border-border bg-card shadow-sm"},pe={class:"overflow-x-auto"},ce={class:"flex flex-col items-center justify-center gap-3 text-muted-foreground"},_e={class:"rounded-full bg-muted p-4"},ge={class:"space-y-1"},ye={class:"font-body text-base font-semibold text-foreground"},ve={class:"font-body text-sm"},xe={class:"flex items-center gap-2"},be={class:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-primary/10 dark:bg-primary/20"},he={class:"space-y-1"},we={key:0,class:"truncate text-sm"},ke={class:"text-muted-foreground ml-1"},Ve={key:1,class:"truncate text-sm"},Ce={class:"text-muted-foreground ml-1"},Se=M({__name:"Index",props:{leads:{},filters:{},sites:{}},setup(E){const i=E,p=h(i.filters?.search||""),c=h(i.filters?.site_id||""),_=h(i.filters?.status||""),g=h(i.filters?.date_from||""),y=h(i.filters?.date_to||""),N=A(()=>i.leads.data.length>0),k=A(()=>p.value||c.value||_.value||g.value||y.value),v=()=>{const n={};p.value&&(n.search=p.value),c.value&&(n.site_id=c.value),_.value&&(n.status=_.value),g.value&&(n.date_from=g.value),y.value&&(n.date_to=y.value),D.get("/leads",n,{preserveState:!0,preserveScroll:!0})},z=()=>{p.value="",c.value="",_.value="",g.value="",y.value="",D.get("/leads",{},{preserveState:!1,preserveScroll:!0})},P=n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),K=n=>{switch(n){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"contacted":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"converted":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}};return(n,e)=>(d(),w(S,null,[a(t(W),{title:"Leads"}),a(Z,null,{default:s(()=>[(d(),m(q("style"),null,{default:s(()=>[...e[5]||(e[5]=[r(" @import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700&family=Manrope:wght@400;500;600;700&display=swap'); ",-1)])]),_:1})),o("div",re,[e[21]||(e[21]=o("div",{class:"pointer-events-none absolute inset-0 opacity-[0.04] dark:opacity-[0.03]",style:{background:`radial-gradient(
            circle at 20% 20%,
            hsl(var(--primary)) 0%,
            transparent 50%
          )`}},null,-1)),e[22]||(e[22]=o("div",{class:"relative flex flex-col gap-4 md:flex-row md:items-start md:justify-between"},[o("div",{class:"space-y-1.5"},[o("h1",{class:"font-display text-3xl font-bold tracking-tight text-foreground md:text-4xl"}," Leads "),o("p",{class:"max-w-2xl font-body text-base text-muted-foreground"}," View and manage leads submitted from your WordPress sites ")])],-1)),o("div",de,[o("div",ne,[o("div",ie,[a(t(L),{class:"absolute left-4 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":"true"}),a(t(F),{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=l=>p.value=l),type:"search",placeholder:"Search leads...",class:"h-11 pl-11 font-body shadow-sm",onKeydown:H(v,["enter"]),"aria-label":"Search leads"},null,8,["modelValue"])]),a(t(T),{modelValue:c.value,"onUpdate:modelValue":[e[1]||(e[1]=l=>c.value=l),v],"aria-label":"Filter by site"},{default:s(()=>[a(t(U),{class:"h-11 w-full font-body shadow-sm lg:w-[180px]"},{default:s(()=>[a(t(j),{placeholder:"All Sites"})]),_:1}),a(t(B),null,{default:s(()=>[(d(!0),w(S,null,I(i.sites,l=>(d(),m(t(C),{key:l.id,value:String(l.id)},{default:s(()=>[r(u(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),a(t(T),{modelValue:_.value,"onUpdate:modelValue":[e[2]||(e[2]=l=>_.value=l),v],"aria-label":"Filter by status"},{default:s(()=>[a(t(U),{class:"h-11 w-full font-body shadow-sm lg:w-[180px]"},{default:s(()=>[a(t(j),{placeholder:"All Statuses"})]),_:1}),a(t(B),null,{default:s(()=>[a(t(C),{value:"new"},{default:s(()=>[...e[6]||(e[6]=[r("New",-1)])]),_:1}),a(t(C),{value:"contacted"},{default:s(()=>[...e[7]||(e[7]=[r("Contacted",-1)])]),_:1}),a(t(C),{value:"converted"},{default:s(()=>[...e[8]||(e[8]=[r("Converted",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o("div",ue,[a(t(F),{modelValue:g.value,"onUpdate:modelValue":e[3]||(e[3]=l=>g.value=l),type:"date",placeholder:"From date",class:"h-11 w-full font-body shadow-sm lg:w-[160px]","aria-label":"From date",onChange:v},null,8,["modelValue"]),a(t(F),{modelValue:y.value,"onUpdate:modelValue":e[4]||(e[4]=l=>y.value=l),type:"date",placeholder:"To date",class:"h-11 w-full font-body shadow-sm lg:w-[160px]","aria-label":"To date",onChange:v},null,8,["modelValue"])]),o("div",me,[a(t(V),{variant:"outline",size:"lg",onClick:v,class:"h-11 shadow-sm","aria-label":"Apply filters"},{default:s(()=>[a(t(L),{class:"mr-2 h-4 w-4"}),e[9]||(e[9]=r(" Apply Filters ",-1))]),_:1}),k.value?(d(),m(t(V),{key:0,variant:"ghost",size:"lg",onClick:z,class:"h-11 font-body","aria-label":"Clear all filters"},{default:s(()=>[a(t(ee),{class:"mr-2 h-4 w-4","aria-hidden":"true"}),e[10]||(e[10]=r(" Clear ",-1))]),_:1})):x("",!0)])])]),o("div",fe,[o("div",pe,[a(t(J),null,{default:s(()=>[a(t(O),null,{default:s(()=>[a(t($),{class:"bg-primary hover:bg-primary"},{default:s(()=>[a(t(b),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:s(()=>[...e[11]||(e[11]=[r("Site",-1)])]),_:1}),a(t(b),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:s(()=>[...e[12]||(e[12]=[r("Form Name",-1)])]),_:1}),a(t(b),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:s(()=>[...e[13]||(e[13]=[r("Form Data",-1)])]),_:1}),a(t(b),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:s(()=>[...e[14]||(e[14]=[r("Status",-1)])]),_:1}),a(t(b),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:s(()=>[...e[15]||(e[15]=[r("Submitted",-1)])]),_:1}),a(t(b),{class:"h-12 text-right font-body font-semibold text-primary-foreground"},{default:s(()=>[...e[16]||(e[16]=[r("Actions",-1)])]),_:1})]),_:1})]),_:1}),a(t(Q),null,{default:s(()=>[N.value?x("",!0):(d(),m(t($),{key:0},{default:s(()=>[a(t(f),{colspan:"6",class:"h-48 text-center",role:"cell"},{default:s(()=>[o("div",ce,[o("div",_e,[a(t(oe),{class:"h-8 w-8 text-muted-foreground/60","aria-hidden":"true"})]),o("div",ge,[o("p",ye,u(k.value?"No leads found":"No leads yet"),1),o("p",ve,u(k.value?"Try adjusting your search filters":"Leads from your WordPress sites will appear here"),1)]),k.value?(d(),m(t(V),{key:0,variant:"outline",size:"sm",onClick:z,class:"mt-2 font-body"},{default:s(()=>[...e[17]||(e[17]=[r(" Clear filters ",-1)])]),_:1})):x("",!0)])]),_:1})]),_:1})),(d(!0),w(S,null,I(i.leads.data,l=>(d(),m(t($),{key:l.id,class:"group transition-colors hover:bg-muted/30"},{default:s(()=>[a(t(f),{class:"font-body font-medium"},{default:s(()=>[o("div",xe,[o("div",be,[a(t(ae),{class:"h-4 w-4 text-primary dark:text-primary","aria-hidden":"true"})]),o("span",null,u(l.site.site_name),1)])]),_:2},1024),a(t(f),{class:"font-body text-muted-foreground"},{default:s(()=>[r(u(l.form_name||"N/A"),1)]),_:2},1024),a(t(f),{class:"max-w-xs"},{default:s(()=>[o("div",he,[l.form_data.name?(d(),w("div",we,[e[18]||(e[18]=o("span",{class:"font-medium text-foreground"},"Name:",-1)),o("span",ke,u(l.form_data.name),1)])):x("",!0),l.form_data.email?(d(),w("div",Ve,[e[19]||(e[19]=o("span",{class:"font-medium text-foreground"},"Email:",-1)),o("span",Ce,u(l.form_data.email),1)])):x("",!0)])]),_:2},1024),a(t(f),null,{default:s(()=>[a(t(Y),{class:X([K(l.status),"gap-1.5 font-body font-medium capitalize"])},{default:s(()=>[r(u(l.status),1)]),_:2},1032,["class"])]),_:2},1024),a(t(f),{class:"font-body text-sm text-muted-foreground"},{default:s(()=>[r(u(P(l.submitted_at)),1)]),_:2},1024),a(t(f),{class:"text-right"},{default:s(()=>[a(t(V),{variant:"ghost",size:"sm","as-child":"",class:"h-8 font-body","aria-label":`View lead from ${l.site.site_name}`},{default:s(()=>[a(t(G),{href:`/leads/${l.id}`},{default:s(()=>[a(t(se),{class:"mr-1.5 h-4 w-4","aria-hidden":"true"}),e[20]||(e[20]=r(" View ",-1))]),_:1},8,["href"])]),_:2},1032,["aria-label"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),N.value?(d(),m(R,{key:0,data:i.leads,"preserve-query":!0},null,8,["data"])):x("",!0)])]),_:1})],64))}}),Qe=le(Se,[["__scopeId","data-v-12553081"]]);export{Qe as default};
