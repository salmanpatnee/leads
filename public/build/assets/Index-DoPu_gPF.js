import{d as q,A as b,c as D,a as h,e as a,u as e,h as H,w as s,g as f,b as l,o as d,z as X,i as r,j as k,x as G,F as V,B as $,t as u,C as J,l as O,D as L}from"./app-St-sUYe7.js";import{_ as C}from"./index-JZXl5pKO.js";import{S as j,_ as T,a as U,b as B,c as E,d as S,e as Q,f as R,g as F,h as x,i as Y,j as m,k as Z}from"./Pagination.vue_vue_type_script_setup_true_lang-DLJ0PIZJ.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-BB59a9ID.js";import{_ as ee,E as te}from"./index-BJEPnrX3.js";import{_ as ae}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dzzjh7N4.js";import{X as se}from"./x-BQPHLKnh.js";import{c as le}from"./createLucideIcon-DDMdpA3c.js";import{F as oe}from"./file-text-Btvaivd1.js";import{_ as re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardPropsEmits-CFIpQ9cm.js";import"./VisuallyHidden-C2LcDY83.js";import"./index-CwgXVMQ9.js";import"./useForwardExpose-BS5VQN5F.js";import"./RovingFocusGroup-BDpUZ890.js";import"./check-C0ZI0v0w.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./useFormControl-Cdes7jW_.js";import"./index-CqmfE78h.js";import"./index-CSEUMRIG.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DaayJZ3e.js";const de=le("InboxIcon",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),ne={class:"leads-manager relative flex h-full flex-1 flex-col gap-6 p-4 md:p-8"},ie={class:"relative"},ue={class:"flex flex-col gap-3 lg:flex-row lg:items-center lg:gap-3"},fe={class:"relative flex-1 lg:min-w-[240px] lg:max-w-[320px]"},me={class:"flex gap-2"},pe={class:"flex items-center gap-2 lg:ml-auto"},ce={class:"table-container relative overflow-hidden rounded-xl border border-border bg-card shadow-sm"},ge={class:"overflow-x-auto"},_e={class:"flex flex-col items-center justify-center gap-3 text-muted-foreground"},ve={class:"rounded-full bg-muted p-4"},ye={class:"space-y-1"},xe={class:"font-body text-base font-semibold text-foreground"},be={class:"font-body text-sm"},he={class:"flex items-center gap-2"},we={class:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-primary/10 dark:bg-primary/20"},ke={class:"space-y-1"},Ve={class:"font-medium text-foreground"},Ce={class:"text-muted-foreground ml-1"},Se=q({__name:"Index",props:{leads:{},filters:{},sites:{}},setup(P){const i=P,p=b(i.filters?.search||""),c=b(i.filters?.site_id||""),g=b(i.filters?.status||""),_=b(i.filters?.date_from||""),v=b(i.filters?.date_to||""),z=D(()=>i.leads.data.length>0),w=D(()=>p.value||c.value||g.value||_.value||v.value),y=()=>{const n={};p.value&&(n.search=p.value),c.value&&(n.site_id=c.value),g.value&&(n.status=g.value),_.value&&(n.date_from=_.value),v.value&&(n.date_to=v.value),L.get("/leads",n,{preserveState:!0,preserveScroll:!0})},A=()=>{p.value="",c.value="",g.value="",_.value="",v.value="",L.get("/leads",{},{preserveState:!1,preserveScroll:!0})},K=n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),M=n=>{switch(n){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"contacted":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"converted":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}};return(n,t)=>(d(),h(V,null,[a(e(H),{title:"Leads"}),a(ae,null,{default:s(()=>[(d(),f(X("style"),null,{default:s(()=>[...t[5]||(t[5]=[r(" @import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700&family=Manrope:wght@400;500;600;700&display=swap'); ",-1)])]),_:1})),l("div",ne,[t[19]||(t[19]=l("div",{class:"pointer-events-none absolute inset-0 opacity-[0.04] dark:opacity-[0.03]",style:{background:`radial-gradient(
            circle at 20% 20%,
            hsl(var(--primary)) 0%,
            transparent 50%
          )`}},null,-1)),t[20]||(t[20]=l("div",{class:"relative flex flex-col gap-4 md:flex-row md:items-start md:justify-between"},[l("div",{class:"space-y-1.5"},[l("h1",{class:"font-display text-3xl font-bold tracking-tight text-foreground md:text-4xl"}," Leads "),l("p",{class:"max-w-2xl font-body text-base text-muted-foreground"}," View and manage leads submitted from your WordPress sites ")])],-1)),l("div",ie,[l("div",ue,[l("div",fe,[a(e(j),{class:"absolute left-4 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":"true"}),a(e(N),{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=o=>p.value=o),type:"search",placeholder:"Search leads...",class:"h-11 pl-11 font-body shadow-sm",onKeydown:G(y,["enter"]),"aria-label":"Search leads"},null,8,["modelValue"])]),a(e(T),{modelValue:c.value,"onUpdate:modelValue":[t[1]||(t[1]=o=>c.value=o),y],"aria-label":"Filter by site"},{default:s(()=>[a(e(U),{class:"h-11 w-full font-body shadow-sm lg:w-[180px]"},{default:s(()=>[a(e(B),{placeholder:"All Sites"})]),_:1}),a(e(E),null,{default:s(()=>[(d(!0),h(V,null,$(i.sites,o=>(d(),f(e(S),{key:o.id,value:String(o.id)},{default:s(()=>[r(u(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),a(e(T),{modelValue:g.value,"onUpdate:modelValue":[t[2]||(t[2]=o=>g.value=o),y],"aria-label":"Filter by status"},{default:s(()=>[a(e(U),{class:"h-11 w-full font-body shadow-sm lg:w-[180px]"},{default:s(()=>[a(e(B),{placeholder:"All Statuses"})]),_:1}),a(e(E),null,{default:s(()=>[a(e(S),{value:"new"},{default:s(()=>[...t[6]||(t[6]=[r("New",-1)])]),_:1}),a(e(S),{value:"contacted"},{default:s(()=>[...t[7]||(t[7]=[r("Contacted",-1)])]),_:1}),a(e(S),{value:"converted"},{default:s(()=>[...t[8]||(t[8]=[r("Converted",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l("div",me,[a(e(N),{modelValue:_.value,"onUpdate:modelValue":t[3]||(t[3]=o=>_.value=o),type:"date",placeholder:"From date",class:"h-11 w-full font-body shadow-sm lg:w-[160px]","aria-label":"From date",onChange:y},null,8,["modelValue"]),a(e(N),{modelValue:v.value,"onUpdate:modelValue":t[4]||(t[4]=o=>v.value=o),type:"date",placeholder:"To date",class:"h-11 w-full font-body shadow-sm lg:w-[160px]","aria-label":"To date",onChange:y},null,8,["modelValue"])]),l("div",pe,[a(e(C),{variant:"outline",size:"lg",onClick:y,class:"h-11 shadow-sm","aria-label":"Apply filters"},{default:s(()=>[a(e(j),{class:"mr-2 h-4 w-4"}),t[9]||(t[9]=r(" Apply Filters ",-1))]),_:1}),w.value?(d(),f(e(C),{key:0,variant:"ghost",size:"lg",onClick:A,class:"h-11 font-body","aria-label":"Clear all filters"},{default:s(()=>[a(e(se),{class:"mr-2 h-4 w-4","aria-hidden":"true"}),t[10]||(t[10]=r(" Clear ",-1))]),_:1})):k("",!0)])])]),l("div",ce,[l("div",ge,[a(e(Q),null,{default:s(()=>[a(e(R),null,{default:s(()=>[a(e(F),{class:"bg-primary hover:bg-primary"},{default:s(()=>[a(e(x),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:s(()=>[...t[11]||(t[11]=[r("Site",-1)])]),_:1}),a(e(x),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:s(()=>[...t[12]||(t[12]=[r("Form Name",-1)])]),_:1}),a(e(x),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:s(()=>[...t[13]||(t[13]=[r("Form Data",-1)])]),_:1}),a(e(x),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:s(()=>[...t[14]||(t[14]=[r("Status",-1)])]),_:1}),a(e(x),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:s(()=>[...t[15]||(t[15]=[r("Submitted",-1)])]),_:1}),a(e(x),{class:"h-12 text-right font-body font-semibold text-primary-foreground"},{default:s(()=>[...t[16]||(t[16]=[r("Actions",-1)])]),_:1})]),_:1})]),_:1}),a(e(Y),null,{default:s(()=>[z.value?k("",!0):(d(),f(e(F),{key:0},{default:s(()=>[a(e(m),{colspan:"6",class:"h-48 text-center",role:"cell"},{default:s(()=>[l("div",_e,[l("div",ve,[a(e(de),{class:"h-8 w-8 text-muted-foreground/60","aria-hidden":"true"})]),l("div",ye,[l("p",xe,u(w.value?"No leads found":"No leads yet"),1),l("p",be,u(w.value?"Try adjusting your search filters":"Leads from your WordPress sites will appear here"),1)]),w.value?(d(),f(e(C),{key:0,variant:"outline",size:"sm",onClick:A,class:"mt-2 font-body"},{default:s(()=>[...t[17]||(t[17]=[r(" Clear filters ",-1)])]),_:1})):k("",!0)])]),_:1})]),_:1})),(d(!0),h(V,null,$(i.leads.data,o=>(d(),f(e(F),{key:o.id,class:"group transition-colors hover:bg-muted/30"},{default:s(()=>[a(e(m),{class:"font-body font-medium"},{default:s(()=>[l("div",he,[l("div",we,[a(e(oe),{class:"h-4 w-4 text-primary dark:text-primary","aria-hidden":"true"})]),l("span",null,u(o.site.name),1)])]),_:2},1024),a(e(m),{class:"font-body text-muted-foreground"},{default:s(()=>[r(u(o.form_name||"N/A"),1)]),_:2},1024),a(e(m),{class:"max-w-xs"},{default:s(()=>[l("div",ke,[(d(!0),h(V,null,$(o.form_data,(W,I)=>(d(),h("div",{key:I,class:"truncate text-sm"},[l("span",Ve,u(I)+":",1),l("span",Ce,u(W),1)]))),128))])]),_:2},1024),a(e(m),null,{default:s(()=>[a(e(ee),{class:J([M(o.status),"gap-1.5 font-body font-medium capitalize"])},{default:s(()=>[r(u(o.status),1)]),_:2},1032,["class"])]),_:2},1024),a(e(m),{class:"font-body text-sm text-muted-foreground"},{default:s(()=>[r(u(K(o.submitted_at)),1)]),_:2},1024),a(e(m),{class:"text-right"},{default:s(()=>[a(e(C),{variant:"ghost",size:"sm","as-child":"",class:"h-8 font-body","aria-label":`View lead from ${o.site.name}`},{default:s(()=>[a(e(O),{href:`/leads/${o.id}`},{default:s(()=>[a(e(te),{class:"mr-1.5 h-4 w-4","aria-hidden":"true"}),t[18]||(t[18]=r(" View ",-1))]),_:1},8,["href"])]),_:2},1032,["aria-label"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),z.value?(d(),f(Z,{key:0,data:i.leads,"preserve-query":!0},null,8,["data"])):k("",!0)])]),_:1})],64))}}),Je=re(Se,[["__scopeId","data-v-f24d9436"]]);export{Je as default};
