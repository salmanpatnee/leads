import{d as O,A as g,c as S,a as c,e as l,u as t,h as R,w as r,g as k,b as a,o,z as X,i as d,j as y,t as v,x as G,C as I,F as V,B as L,l as J,D as P,E as N}from"./app-qMXsicPc.js";import{_ as x}from"./index-nl9hs0ev.js";import{S as Q,_ as T,a as U,b as B,c as j,d as b,e as W}from"./Pagination.vue_vue_type_script_setup_true_lang-Ovz4Q4Kg.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-Ap08F9jn.js";import{_ as Y}from"./index-CuxOBepr.js";import{C as Z,_ as ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-B0LGZkVo.js";import{c as te}from"./createLucideIcon-DbGhTKL4.js";import{X as ae}from"./x-CJHaFwEN.js";import{M as E}from"./mail-s9GYpsSL.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardPropsEmits-B7tYJHKP.js";import"./VisuallyHidden-CwqLLQly.js";import"./index-Cp2XgR6M.js";import"./useForwardExpose-FhnUXzcJ.js";import"./RovingFocusGroup-Br5YanVu.js";import"./check-GDAFR5vV.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./useFormControl-_8HNEr_n.js";import"./index-CqmfE78h.js";import"./index-CSEUMRIG.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-o_ig2r9_.js";const se=te("SlidersHorizontalIcon",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),ie={class:"leads-page"},re={class:"header-section"},oe={class:"header-content"},de={class:"page-subtitle"},ne={class:"search-row"},ue={class:"search-input-wrapper"},me={key:0,class:"filter-badge"},ce={key:0,class:"filters-panel"},ve={class:"filters-grid"},fe={class:"filter-group"},pe={class:"filter-group"},_e={class:"filter-group"},ye={class:"filter-group"},ge={class:"filters-actions"},be={class:"leads-container"},he={key:0,class:"empty-state"},ke={class:"empty-icon"},xe={class:"empty-title"},we={class:"empty-description"},Se={key:1,class:"leads-grid"},Ve={class:"lead-card-header"},Ce={class:"lead-card-meta"},Fe={class:"lead-site"},$e={class:"lead-date"},De={class:"lead-card-body"},ze={key:0,class:"lead-email"},Ae={key:1,class:"lead-form"},Ie={class:"lead-card-footer"},Le={class:"view-link"},Ne={key:0,class:"pagination-wrapper"},Te=O({__name:"Index",props:{leads:{},filters:{},sites:{}},setup(K){const n=K,f=g(n.filters?.search||""),u=g(n.filters?.site_id||"all"),m=g(n.filters?.status||"all"),p=g(n.filters?.date_from||""),_=g(n.filters?.date_to||""),w=g(!1),F=S(()=>n.leads.data.length>0),h=S(()=>f.value||u.value&&u.value!=="all"||m.value&&m.value!=="all"||p.value||_.value),$=S(()=>{let i=0;return f.value&&i++,u.value&&u.value!=="all"&&i++,m.value&&m.value!=="all"&&i++,(p.value||_.value)&&i++,i}),D=()=>{const i={};f.value&&(i.search=f.value),u.value&&u.value!=="all"&&(i.site_id=u.value),m.value&&m.value!=="all"&&(i.status=m.value),p.value&&(i.date_from=p.value),_.value&&(i.date_to=_.value),N.get("/leads",i,{preserveState:!0,preserveScroll:!0})},z=()=>{f.value="",u.value="all",m.value="all",p.value="",_.value="",N.get("/leads",{},{preserveState:!1,preserveScroll:!0})},q=i=>new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),A=i=>{const e=Object.keys(i).find(s=>s.toLowerCase().includes("email"));return e?i[e]:null},H=i=>{switch(i){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"contacted":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"converted":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}};return(i,e)=>(o(),c(V,null,[l(t(R),{title:"Leads"}),l(ee,null,{default:r(()=>[(o(),k(X("style"),null,{default:r(()=>[...e[6]||(e[6]=[d(" @import url('https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&display=swap'); ",-1)])]),_:1})),a("div",ie,[a("div",re,[a("div",oe,[e[7]||(e[7]=a("h1",{class:"page-title"},"Leads",-1)),a("p",de,v(n.leads.meta.total||0)+" total submissions",1)]),a("div",ne,[a("div",ue,[l(t(Q),{class:"search-icon","aria-hidden":"true"}),l(t(C),{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=s=>f.value=s),type:"search",placeholder:"Search by name, email, or message...",class:"search-input",onKeydown:G(D,["enter"]),"aria-label":"Search leads"},null,8,["modelValue"])]),l(t(x),{variant:"outline",onClick:e[1]||(e[1]=s=>w.value=!w.value),class:I(["filter-toggle",{"filter-toggle--active":h.value}]),"aria-label":"Toggle filters"},{default:r(()=>[l(t(se),{class:"h-4 w-4","aria-hidden":"true"}),e[8]||(e[8]=d(" Filters ",-1)),$.value>0?(o(),c("span",me,v($.value),1)):y("",!0)]),_:1},8,["class"])]),w.value?(o(),c("div",ce,[a("div",ve,[a("div",fe,[e[10]||(e[10]=a("label",{class:"filter-label"},"Site",-1)),l(t(T),{modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=s=>u.value=s),"aria-label":"Filter by site"},{default:r(()=>[l(t(U),{class:"filter-select"},{default:r(()=>[l(t(B),{placeholder:"All Sites"})]),_:1}),l(t(j),null,{default:r(()=>[l(t(b),{value:"all"},{default:r(()=>[...e[9]||(e[9]=[d("All Sites",-1)])]),_:1}),(o(!0),c(V,null,L(n.sites,s=>(o(),k(t(b),{key:s.id,value:String(s.id)},{default:r(()=>[d(v(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),a("div",pe,[e[15]||(e[15]=a("label",{class:"filter-label"},"Status",-1)),l(t(T),{modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=s=>m.value=s),"aria-label":"Filter by status"},{default:r(()=>[l(t(U),{class:"filter-select"},{default:r(()=>[l(t(B),{placeholder:"All Statuses"})]),_:1}),l(t(j),null,{default:r(()=>[l(t(b),{value:"all"},{default:r(()=>[...e[11]||(e[11]=[d("All Statuses",-1)])]),_:1}),l(t(b),{value:"new"},{default:r(()=>[...e[12]||(e[12]=[d("New",-1)])]),_:1}),l(t(b),{value:"contacted"},{default:r(()=>[...e[13]||(e[13]=[d("Contacted",-1)])]),_:1}),l(t(b),{value:"converted"},{default:r(()=>[...e[14]||(e[14]=[d("Converted",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),a("div",_e,[e[16]||(e[16]=a("label",{class:"filter-label"},"Date From",-1)),l(t(C),{modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=s=>p.value=s),type:"date",class:"filter-input","aria-label":"From date"},null,8,["modelValue"])]),a("div",ye,[e[17]||(e[17]=a("label",{class:"filter-label"},"Date To",-1)),l(t(C),{modelValue:_.value,"onUpdate:modelValue":e[5]||(e[5]=s=>_.value=s),type:"date",class:"filter-input","aria-label":"To date"},null,8,["modelValue"])])]),a("div",ge,[l(t(x),{onClick:D,size:"sm"},{default:r(()=>[...e[18]||(e[18]=[d(" Apply Filters ",-1)])]),_:1}),h.value?(o(),k(t(x),{key:0,variant:"ghost",size:"sm",onClick:z},{default:r(()=>[l(t(ae),{class:"mr-1.5 h-3.5 w-3.5","aria-hidden":"true"}),e[19]||(e[19]=d(" Clear All ",-1))]),_:1})):y("",!0)])])):y("",!0)]),a("div",be,[F.value?(o(),c("div",Se,[(o(!0),c(V,null,L(n.leads.data,(s,M)=>(o(),k(t(J),{key:s.id,href:`/leads/${s.id}`,class:"lead-card",style:P({animationDelay:`${M*40}ms`})},{default:r(()=>[a("div",Ve,[a("div",Ce,[a("span",Fe,v(s.site.site_name),1),e[21]||(e[21]=a("span",{class:"lead-dot"},"â€¢",-1)),a("span",$e,v(q(s.submitted_at)),1)]),l(t(Y),{class:I([H(s.status),"lead-status-badge"])},{default:r(()=>[d(v(s.status),1)]),_:2},1032,["class"])]),a("div",De,[A(s.form_data)?(o(),c("div",ze,[l(t(E),{class:"h-4 w-4 opacity-40","aria-hidden":"true"}),d(" "+v(A(s.form_data)),1)])):y("",!0),s.form_name?(o(),c("div",Ae,v(s.form_name),1)):y("",!0)]),a("div",Ie,[a("span",Le,[e[22]||(e[22]=d(" View Details ",-1)),l(t(Z),{class:"h-4 w-4","aria-hidden":"true"})])])]),_:2},1032,["href","style"]))),128))])):(o(),c("div",he,[a("div",ke,[l(t(E),{class:"h-12 w-12"})]),a("h2",xe,v(h.value?"No matches found":"No leads yet"),1),a("p",we,v(h.value?"Try adjusting your filters to see more results":"Form submissions will appear here"),1),h.value?(o(),k(t(x),{key:0,variant:"outline",onClick:z,class:"mt-6"},{default:r(()=>[...e[20]||(e[20]=[d(" Clear Filters ",-1)])]),_:1})):y("",!0)]))]),F.value?(o(),c("div",Ne,[l(W,{data:n.leads,"preserve-query":!0},null,8,["data"])])):y("",!0)])]),_:1})],64))}}),lt=le(Te,[["__scopeId","data-v-ca867d7d"]]);export{lt as default};
