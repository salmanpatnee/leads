import{d as W,A as h,c as z,a as S,e as a,u as t,h as q,w as l,g as p,b as o,o as n,z as H,i as r,j as k,x as O,F as C,B as I,t as m,C as X,l as G,D as L}from"./app-DGf2symm.js";import{_ as V}from"./index-w0alOtJt.js";import{S as j,_ as J,a as Q,b as $,c as b,d as R,e as c,f as Y}from"./Pagination.vue_vue_type_script_setup_true_lang-SbBytGX7.js";import{_ as D,a as T,b as U,c as B,d as x}from"./SelectValue.vue_vue_type_script_setup_true_lang-zhwbfQ9s.js";import{_ as F}from"./Input.vue_vue_type_script_setup_true_lang-BsfVLiKM.js";import{_ as Z}from"./index-eVmDsOBH.js";import{_ as ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-BUcJakk5.js";import{X as te}from"./x-BfSwMvgI.js";import{c as ae}from"./createLucideIcon-Dr3lZywZ.js";import{F as le}from"./file-text-B_faC1f3.js";import{E as se}from"./eye-BjavnzkK.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardPropsEmits-CpIXak01.js";import"./VisuallyHidden-CwZTjJhK.js";import"./index-CRJdva39.js";import"./useForwardExpose-Dx6JPSlj.js";import"./RovingFocusGroup-DnABudKP.js";import"./check-_BuFsqOq.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./useFormControl-IpmgFM4W.js";import"./index-CqmfE78h.js";import"./index-CSEUMRIG.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BKQXwkSk.js";const re=ae("InboxIcon",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),de={class:"leads-manager relative flex h-full flex-1 flex-col gap-6 p-4 md:p-8"},ne={class:"relative"},ie={class:"flex flex-col gap-3 lg:flex-row lg:items-center lg:gap-3"},ue={class:"relative flex-1 lg:min-w-[240px] lg:max-w-[320px]"},fe={class:"flex gap-2"},me={class:"flex items-center gap-2 lg:ml-auto"},pe={class:"table-container relative overflow-hidden rounded-xl border border-border bg-card shadow-sm"},ce={class:"overflow-x-auto"},ve={class:"flex flex-col items-center justify-center gap-3 text-muted-foreground"},ge={class:"rounded-full bg-muted p-4"},ye={class:"space-y-1"},_e={class:"font-body text-base font-semibold text-foreground"},be={class:"font-body text-sm"},xe={class:"flex items-center gap-2"},he={class:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-primary/10 dark:bg-primary/20"},we={class:"truncate text-sm font-body text-muted-foreground"},ke=W({__name:"Index",props:{leads:{},filters:{},sites:{}},setup(E){const i=E,v=h(i.filters?.search||""),u=h(i.filters?.site_id||"all"),f=h(i.filters?.status||"all"),g=h(i.filters?.date_from||""),y=h(i.filters?.date_to||""),A=z(()=>i.leads.data.length>0),w=z(()=>v.value||u.value&&u.value!=="all"||f.value&&f.value!=="all"||g.value||y.value),_=()=>{const d={};v.value&&(d.search=v.value),u.value&&u.value!=="all"&&(d.site_id=u.value),f.value&&f.value!=="all"&&(d.status=f.value),g.value&&(d.date_from=g.value),y.value&&(d.date_to=y.value),L.get("/leads",d,{preserveState:!0,preserveScroll:!0})},N=()=>{v.value="",u.value="all",f.value="all",g.value="",y.value="",L.get("/leads",{},{preserveState:!1,preserveScroll:!0})},K=d=>new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),P=d=>{const e=Object.keys(d).find(s=>s.toLowerCase().includes("email"));return e?d[e]:null},M=d=>{switch(d){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"contacted":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"converted":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}};return(d,e)=>(n(),S(C,null,[a(t(q),{title:"Leads"}),a(ee,null,{default:l(()=>[(n(),p(H("style"),null,{default:l(()=>[...e[5]||(e[5]=[r(" @import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700&family=Manrope:wght@400;500;600;700&display=swap'); ",-1)])]),_:1})),o("div",de,[e[21]||(e[21]=o("div",{class:"pointer-events-none absolute inset-0 opacity-[0.04] dark:opacity-[0.03]",style:{background:`radial-gradient(
            circle at 20% 20%,
            hsl(var(--primary)) 0%,
            transparent 50%
          )`}},null,-1)),e[22]||(e[22]=o("div",{class:"relative flex flex-col gap-4 md:flex-row md:items-start md:justify-between"},[o("div",{class:"space-y-1.5"},[o("h1",{class:"font-display text-3xl font-bold tracking-tight text-foreground md:text-4xl"}," Leads "),o("p",{class:"max-w-2xl font-body text-base text-muted-foreground"}," View and manage leads submitted from your WordPress sites ")])],-1)),o("div",ne,[o("div",ie,[o("div",ue,[a(t(j),{class:"absolute left-4 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":"true"}),a(t(F),{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=s=>v.value=s),type:"search",placeholder:"Search leads...",class:"h-11 pl-11 font-body shadow-sm",onKeydown:O(_,["enter"]),"aria-label":"Search leads"},null,8,["modelValue"])]),a(t(D),{modelValue:u.value,"onUpdate:modelValue":[e[1]||(e[1]=s=>u.value=s),_],"aria-label":"Filter by site"},{default:l(()=>[a(t(T),{class:"h-11 w-full font-body shadow-sm lg:w-[180px]"},{default:l(()=>[a(t(U),{placeholder:"All Sites"})]),_:1}),a(t(B),null,{default:l(()=>[a(t(x),{value:"all"},{default:l(()=>[...e[6]||(e[6]=[r("All Sites",-1)])]),_:1}),(n(!0),S(C,null,I(i.sites,s=>(n(),p(t(x),{key:s.id,value:String(s.id)},{default:l(()=>[r(m(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),a(t(D),{modelValue:f.value,"onUpdate:modelValue":[e[2]||(e[2]=s=>f.value=s),_],"aria-label":"Filter by status"},{default:l(()=>[a(t(T),{class:"h-11 w-full font-body shadow-sm lg:w-[180px]"},{default:l(()=>[a(t(U),{placeholder:"All Statuses"})]),_:1}),a(t(B),null,{default:l(()=>[a(t(x),{value:"all"},{default:l(()=>[...e[7]||(e[7]=[r("All Statuses",-1)])]),_:1}),a(t(x),{value:"new"},{default:l(()=>[...e[8]||(e[8]=[r("New",-1)])]),_:1}),a(t(x),{value:"contacted"},{default:l(()=>[...e[9]||(e[9]=[r("Contacted",-1)])]),_:1}),a(t(x),{value:"converted"},{default:l(()=>[...e[10]||(e[10]=[r("Converted",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o("div",fe,[a(t(F),{modelValue:g.value,"onUpdate:modelValue":e[3]||(e[3]=s=>g.value=s),type:"date",placeholder:"From date",class:"h-11 w-full font-body shadow-sm lg:w-[160px]","aria-label":"From date",onChange:_},null,8,["modelValue"]),a(t(F),{modelValue:y.value,"onUpdate:modelValue":e[4]||(e[4]=s=>y.value=s),type:"date",placeholder:"To date",class:"h-11 w-full font-body shadow-sm lg:w-[160px]","aria-label":"To date",onChange:_},null,8,["modelValue"])]),o("div",me,[a(t(V),{variant:"outline",size:"lg",onClick:_,class:"h-11 shadow-sm","aria-label":"Apply filters"},{default:l(()=>[a(t(j),{class:"mr-2 h-4 w-4"}),e[11]||(e[11]=r(" Apply Filters ",-1))]),_:1}),w.value?(n(),p(t(V),{key:0,variant:"ghost",size:"lg",onClick:N,class:"h-11 font-body","aria-label":"Clear all filters"},{default:l(()=>[a(t(te),{class:"mr-2 h-4 w-4","aria-hidden":"true"}),e[12]||(e[12]=r(" Clear ",-1))]),_:1})):k("",!0)])])]),o("div",pe,[o("div",ce,[a(t(J),null,{default:l(()=>[a(t(Q),null,{default:l(()=>[a(t($),{class:"bg-primary hover:bg-primary"},{default:l(()=>[a(t(b),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:l(()=>[...e[13]||(e[13]=[r("Site",-1)])]),_:1}),a(t(b),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:l(()=>[...e[14]||(e[14]=[r("Form Name",-1)])]),_:1}),a(t(b),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:l(()=>[...e[15]||(e[15]=[r("Email",-1)])]),_:1}),a(t(b),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:l(()=>[...e[16]||(e[16]=[r("Status",-1)])]),_:1}),a(t(b),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:l(()=>[...e[17]||(e[17]=[r("Submitted",-1)])]),_:1}),a(t(b),{class:"h-12 text-right font-body font-semibold text-primary-foreground"},{default:l(()=>[...e[18]||(e[18]=[r("Actions",-1)])]),_:1})]),_:1})]),_:1}),a(t(R),null,{default:l(()=>[A.value?k("",!0):(n(),p(t($),{key:0},{default:l(()=>[a(t(c),{colspan:"6",class:"h-48 text-center",role:"cell"},{default:l(()=>[o("div",ve,[o("div",ge,[a(t(re),{class:"h-8 w-8 text-muted-foreground/60","aria-hidden":"true"})]),o("div",ye,[o("p",_e,m(w.value?"No leads found":"No leads yet"),1),o("p",be,m(w.value?"Try adjusting your search filters":"Leads from your WordPress sites will appear here"),1)]),w.value?(n(),p(t(V),{key:0,variant:"outline",size:"sm",onClick:N,class:"mt-2 font-body"},{default:l(()=>[...e[19]||(e[19]=[r(" Clear filters ",-1)])]),_:1})):k("",!0)])]),_:1})]),_:1})),(n(!0),S(C,null,I(i.leads.data,s=>(n(),p(t($),{key:s.id,class:"group transition-colors hover:bg-muted/30"},{default:l(()=>[a(t(c),{class:"font-body font-medium"},{default:l(()=>[o("div",xe,[o("div",he,[a(t(le),{class:"h-4 w-4 text-primary dark:text-primary","aria-hidden":"true"})]),o("span",null,m(s.site.site_name),1)])]),_:2},1024),a(t(c),{class:"font-body text-muted-foreground"},{default:l(()=>[r(m(s.form_name||"N/A"),1)]),_:2},1024),a(t(c),{class:"max-w-xs"},{default:l(()=>[o("div",we,m(P(s.form_data)||"N/A"),1)]),_:2},1024),a(t(c),null,{default:l(()=>[a(t(Z),{class:X([M(s.status),"gap-1.5 font-body font-medium capitalize"])},{default:l(()=>[r(m(s.status),1)]),_:2},1032,["class"])]),_:2},1024),a(t(c),{class:"font-body text-sm text-muted-foreground"},{default:l(()=>[r(m(K(s.submitted_at)),1)]),_:2},1024),a(t(c),{class:"text-right"},{default:l(()=>[a(t(V),{variant:"ghost",size:"sm","as-child":"",class:"h-8 font-body","aria-label":`View lead from ${s.site.site_name}`},{default:l(()=>[a(t(G),{href:`/leads/${s.id}`},{default:l(()=>[a(t(se),{class:"mr-1.5 h-4 w-4","aria-hidden":"true"}),e[20]||(e[20]=r(" View ",-1))]),_:1},8,["href"])]),_:2},1032,["aria-label"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),A.value?(n(),p(Y,{key:0,data:i.leads,"preserve-query":!0},null,8,["data"])):k("",!0)])]),_:1})],64))}}),Xe=oe(ke,[["__scopeId","data-v-7e84ccbf"]]);export{Xe as default};
