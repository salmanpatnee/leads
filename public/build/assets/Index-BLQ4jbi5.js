import{d as P,A as h,c as N,a as S,e as a,u as t,h as W,w as l,g as p,b as o,o as n,z as O,i as r,j as k,x as X,F as C,B as I,t as m,C as Z,l as G,D as L}from"./app-DgdkhfNe.js";import{_ as V}from"./index-Draz5HlZ.js";import{S as j,_ as M,a as T,b as D,c as U,d as b,e as J,f as Q,g as $,h as x,i as R,j as c,k as Y}from"./Pagination.vue_vue_type_script_setup_true_lang-DVkcW2q7.js";import{_ as F}from"./Input.vue_vue_type_script_setup_true_lang-BFT0Tc_H.js";import{_ as ee,E as te}from"./index-CTQQHHuw.js";import{_ as ae}from"./AppLayout.vue_vue_type_script_setup_true_lang-Ds-l6FeL.js";import{X as le}from"./x-CacmQr73.js";import{c as B}from"./createLucideIcon-BcewUAwC.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardPropsEmits-CAM7rIcR.js";import"./VisuallyHidden-09slDmA_.js";import"./index-Bm7spDUF.js";import"./useForwardExpose-BJ6c51DF.js";import"./RovingFocusGroup-DvyPtj9U.js";import"./check-CSYPXoN5.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./useFormControl-DhBR8YWC.js";import"./index-CqmfE78h.js";import"./index-CSEUMRIG.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang--8L30IZM.js";const oe=B("FileTextIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const re=B("InboxIcon",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),de={class:"leads-manager relative flex h-full flex-1 flex-col gap-6 p-4 md:p-8"},ne={class:"relative"},ie={class:"flex flex-col gap-3 lg:flex-row lg:items-center lg:gap-3"},ue={class:"relative flex-1 lg:min-w-[240px] lg:max-w-[320px]"},fe={class:"flex gap-2"},me={class:"flex items-center gap-2 lg:ml-auto"},pe={class:"table-container relative overflow-hidden rounded-xl border border-border bg-card shadow-sm"},ce={class:"overflow-x-auto"},ye={class:"flex flex-col items-center justify-center gap-3 text-muted-foreground"},ve={class:"rounded-full bg-muted p-4"},ge={class:"space-y-1"},_e={class:"font-body text-base font-semibold text-foreground"},be={class:"font-body text-sm"},xe={class:"flex items-center gap-2"},he={class:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-primary/10 dark:bg-primary/20"},we={class:"truncate text-sm font-body text-muted-foreground"},ke=P({__name:"Index",props:{leads:{},filters:{},sites:{}},setup(E){const i=E,y=h(i.filters?.search||""),u=h(i.filters?.site_id||"all"),f=h(i.filters?.status||"all"),v=h(i.filters?.date_from||""),g=h(i.filters?.date_to||""),A=N(()=>i.leads.data.length>0),w=N(()=>y.value||u.value&&u.value!=="all"||f.value&&f.value!=="all"||v.value||g.value),_=()=>{const d={};y.value&&(d.search=y.value),u.value&&u.value!=="all"&&(d.site_id=u.value),f.value&&f.value!=="all"&&(d.status=f.value),v.value&&(d.date_from=v.value),g.value&&(d.date_to=g.value),L.get("/leads",d,{preserveState:!0,preserveScroll:!0})},z=()=>{y.value="",u.value="all",f.value="all",v.value="",g.value="",L.get("/leads",{},{preserveState:!1,preserveScroll:!0})},H=d=>new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),q=d=>{const e=Object.keys(d).find(s=>s.toLowerCase().includes("email"));return e?d[e]:null},K=d=>{switch(d){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"contacted":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"converted":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}};return(d,e)=>(n(),S(C,null,[a(t(W),{title:"Leads"}),a(ae,null,{default:l(()=>[(n(),p(O("style"),null,{default:l(()=>[...e[5]||(e[5]=[r(" @import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700&family=Manrope:wght@400;500;600;700&display=swap'); ",-1)])]),_:1})),o("div",de,[e[21]||(e[21]=o("div",{class:"pointer-events-none absolute inset-0 opacity-[0.04] dark:opacity-[0.03]",style:{background:`radial-gradient(
            circle at 20% 20%,
            hsl(var(--primary)) 0%,
            transparent 50%
          )`}},null,-1)),e[22]||(e[22]=o("div",{class:"relative flex flex-col gap-4 md:flex-row md:items-start md:justify-between"},[o("div",{class:"space-y-1.5"},[o("h1",{class:"font-display text-3xl font-bold tracking-tight text-foreground md:text-4xl"}," Leads "),o("p",{class:"max-w-2xl font-body text-base text-muted-foreground"}," View and manage leads submitted from your WordPress sites ")])],-1)),o("div",ne,[o("div",ie,[o("div",ue,[a(t(j),{class:"absolute left-4 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":"true"}),a(t(F),{modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=s=>y.value=s),type:"search",placeholder:"Search leads...",class:"h-11 pl-11 font-body shadow-sm",onKeydown:X(_,["enter"]),"aria-label":"Search leads"},null,8,["modelValue"])]),a(t(M),{modelValue:u.value,"onUpdate:modelValue":[e[1]||(e[1]=s=>u.value=s),_],"aria-label":"Filter by site"},{default:l(()=>[a(t(T),{class:"h-11 w-full font-body shadow-sm lg:w-[180px]"},{default:l(()=>[a(t(D),{placeholder:"All Sites"})]),_:1}),a(t(U),null,{default:l(()=>[a(t(b),{value:"all"},{default:l(()=>[...e[6]||(e[6]=[r("All Sites",-1)])]),_:1}),(n(!0),S(C,null,I(i.sites,s=>(n(),p(t(b),{key:s.id,value:String(s.id)},{default:l(()=>[r(m(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),a(t(M),{modelValue:f.value,"onUpdate:modelValue":[e[2]||(e[2]=s=>f.value=s),_],"aria-label":"Filter by status"},{default:l(()=>[a(t(T),{class:"h-11 w-full font-body shadow-sm lg:w-[180px]"},{default:l(()=>[a(t(D),{placeholder:"All Statuses"})]),_:1}),a(t(U),null,{default:l(()=>[a(t(b),{value:"all"},{default:l(()=>[...e[7]||(e[7]=[r("All Statuses",-1)])]),_:1}),a(t(b),{value:"new"},{default:l(()=>[...e[8]||(e[8]=[r("New",-1)])]),_:1}),a(t(b),{value:"contacted"},{default:l(()=>[...e[9]||(e[9]=[r("Contacted",-1)])]),_:1}),a(t(b),{value:"converted"},{default:l(()=>[...e[10]||(e[10]=[r("Converted",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o("div",fe,[a(t(F),{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=s=>v.value=s),type:"date",placeholder:"From date",class:"h-11 w-full font-body shadow-sm lg:w-[160px]","aria-label":"From date",onChange:_},null,8,["modelValue"]),a(t(F),{modelValue:g.value,"onUpdate:modelValue":e[4]||(e[4]=s=>g.value=s),type:"date",placeholder:"To date",class:"h-11 w-full font-body shadow-sm lg:w-[160px]","aria-label":"To date",onChange:_},null,8,["modelValue"])]),o("div",me,[a(t(V),{variant:"outline",size:"lg",onClick:_,class:"h-11 shadow-sm","aria-label":"Apply filters"},{default:l(()=>[a(t(j),{class:"mr-2 h-4 w-4"}),e[11]||(e[11]=r(" Apply Filters ",-1))]),_:1}),w.value?(n(),p(t(V),{key:0,variant:"ghost",size:"lg",onClick:z,class:"h-11 font-body","aria-label":"Clear all filters"},{default:l(()=>[a(t(le),{class:"mr-2 h-4 w-4","aria-hidden":"true"}),e[12]||(e[12]=r(" Clear ",-1))]),_:1})):k("",!0)])])]),o("div",pe,[o("div",ce,[a(t(J),null,{default:l(()=>[a(t(Q),null,{default:l(()=>[a(t($),{class:"bg-primary hover:bg-primary"},{default:l(()=>[a(t(x),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:l(()=>[...e[13]||(e[13]=[r("Site",-1)])]),_:1}),a(t(x),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:l(()=>[...e[14]||(e[14]=[r("Form Name",-1)])]),_:1}),a(t(x),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:l(()=>[...e[15]||(e[15]=[r("Email",-1)])]),_:1}),a(t(x),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:l(()=>[...e[16]||(e[16]=[r("Status",-1)])]),_:1}),a(t(x),{class:"h-12 font-body font-semibold text-primary-foreground"},{default:l(()=>[...e[17]||(e[17]=[r("Submitted",-1)])]),_:1}),a(t(x),{class:"h-12 text-right font-body font-semibold text-primary-foreground"},{default:l(()=>[...e[18]||(e[18]=[r("Actions",-1)])]),_:1})]),_:1})]),_:1}),a(t(R),null,{default:l(()=>[A.value?k("",!0):(n(),p(t($),{key:0},{default:l(()=>[a(t(c),{colspan:"6",class:"h-48 text-center",role:"cell"},{default:l(()=>[o("div",ye,[o("div",ve,[a(t(re),{class:"h-8 w-8 text-muted-foreground/60","aria-hidden":"true"})]),o("div",ge,[o("p",_e,m(w.value?"No leads found":"No leads yet"),1),o("p",be,m(w.value?"Try adjusting your search filters":"Leads from your WordPress sites will appear here"),1)]),w.value?(n(),p(t(V),{key:0,variant:"outline",size:"sm",onClick:z,class:"mt-2 font-body"},{default:l(()=>[...e[19]||(e[19]=[r(" Clear filters ",-1)])]),_:1})):k("",!0)])]),_:1})]),_:1})),(n(!0),S(C,null,I(i.leads.data,s=>(n(),p(t($),{key:s.id,class:"group transition-colors hover:bg-muted/30"},{default:l(()=>[a(t(c),{class:"font-body font-medium"},{default:l(()=>[o("div",xe,[o("div",he,[a(t(oe),{class:"h-4 w-4 text-primary dark:text-primary","aria-hidden":"true"})]),o("span",null,m(s.site.site_name),1)])]),_:2},1024),a(t(c),{class:"font-body text-muted-foreground"},{default:l(()=>[r(m(s.form_name||"N/A"),1)]),_:2},1024),a(t(c),{class:"max-w-xs"},{default:l(()=>[o("div",we,m(q(s.form_data)||"N/A"),1)]),_:2},1024),a(t(c),null,{default:l(()=>[a(t(ee),{class:Z([K(s.status),"gap-1.5 font-body font-medium capitalize"])},{default:l(()=>[r(m(s.status),1)]),_:2},1032,["class"])]),_:2},1024),a(t(c),{class:"font-body text-sm text-muted-foreground"},{default:l(()=>[r(m(H(s.submitted_at)),1)]),_:2},1024),a(t(c),{class:"text-right"},{default:l(()=>[a(t(V),{variant:"ghost",size:"sm","as-child":"",class:"h-8 font-body","aria-label":`View lead from ${s.site.site_name}`},{default:l(()=>[a(t(G),{href:`/leads/${s.id}`},{default:l(()=>[a(t(te),{class:"mr-1.5 h-4 w-4","aria-hidden":"true"}),e[20]||(e[20]=r(" View ",-1))]),_:1},8,["href"])]),_:2},1032,["aria-label"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),A.value?(n(),p(Y,{key:0,data:i.leads,"preserve-query":!0},null,8,["data"])):k("",!0)])]),_:1})],64))}}),Pe=se(ke,[["__scopeId","data-v-7e84ccbf"]]);export{Pe as default};
