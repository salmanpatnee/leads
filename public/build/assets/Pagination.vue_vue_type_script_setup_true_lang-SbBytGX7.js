import{c as T}from"./createLucideIcon-Dr3lZywZ.js";import{P as z,c as x,b as D,_ as G}from"./index-w0alOtJt.js";import{d as g,U as H,c as y,g as k,w as b,s as _,u as o,o as i,n as j,p as V,i as $,t as N,m as S,a as v,b as P,C as R,j as Q,e as C,F as q,y as M,B as O,D as J}from"./app-DGf2symm.js";import{u as K}from"./useForwardPropsEmits-CpIXak01.js";import{c as W}from"./VisuallyHidden-CwZTjJhK.js";import{u as A}from"./useForwardExpose-Dx6JPSlj.js";import{u as X,r as F}from"./index-CRJdva39.js";import{C as Y}from"./AppLayout.vue_vue_type_script_setup_true_lang-BUcJakk5.js";const[U,Z]=W("PaginationRoot");var ee=g({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(a,{emit:t}){const e=a,s=t,{siblingCount:c,disabled:r,showEdges:p}=H(e);A();const m=X(e,"page",s,{defaultValue:e.defaultPage,passive:e.page===void 0}),f=y(()=>Math.max(1,Math.ceil(e.total/(e.itemsPerPage||1))));return Z({page:m,onPageChange(h){m.value=h},pageCount:f,siblingCount:c,disabled:r,showEdges:p}),(h,I)=>(i(),k(o(z),{as:h.as,"as-child":h.asChild},{default:b(()=>[_(h.$slots,"default",{page:o(m),pageCount:f.value})]),_:3},8,["as","as-child"]))}}),ae=ee;function w(a,t){const e=t-a+1;return Array.from({length:e},(s,c)=>c+a)}function te(a){return a.map(t=>typeof t=="number"?{type:"page",value:t}:{type:"ellipsis"})}const L="ellipsis";function se(a,t,e,s){const r=t,p=Math.max(a-e,1),m=Math.min(a+e,r);if(s){const h=Math.min(2*e+5,t)-2,I=p>3&&Math.abs(r-h-1+1)>2&&Math.abs(p-1)>2,B=m<r-2&&Math.abs(r-h)>2&&Math.abs(r-m)>2;if(!I&&B)return[...w(1,h),L,r];if(I&&!B){const l=w(r-h+1,r);return[1,L,...l]}if(I&&B){const l=w(p,m);return[1,L,...l,L,r]}return w(1,r)}else{const f=e*2+1;return t<f?w(1,r):a<=e+1?w(1,f):t-a<=e?w(t-f+1,r):w(p,m)}}var le=g({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const t=a;A();const e=U(),s=y(()=>te(se(e.page.value,e.pageCount.value,e.siblingCount.value,e.showEdges.value)));return(c,r)=>(i(),k(o(z),j(V(t)),{default:b(()=>[_(c.$slots,"default",{items:s.value})]),_:3},16))}}),oe=le,re=g({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(a){const t=a;A();const e=U(),s=y(()=>e.page.value===t.value),c=y(()=>e.disabled.value);return(r,p)=>(i(),k(o(z),S(t,{"data-type":"page","aria-label":`Page ${r.value}`,"aria-current":s.value?"page":void 0,"data-selected":s.value?"true":void 0,disabled:c.value,type:r.as==="button"?"button":void 0,onClick:p[0]||(p[0]=m=>!c.value&&o(e).onPageChange(r.value))}),{default:b(()=>[_(r.$slots,"default",{},()=>[$(N(r.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),ne=re;const ie=T("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const ue=T("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const Ne=T("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ce={"data-slot":"table-container",class:"relative w-full overflow-auto"},qe=g({__name:"Table",props:{class:{}},setup(a){const t=a;return(e,s)=>(i(),v("div",ce,[P("table",{"data-slot":"table",class:R(o(x)("w-full caption-bottom text-sm",t.class))},[_(e.$slots,"default")],2)]))}}),Le=g({__name:"TableBody",props:{class:{}},setup(a){const t=a;return(e,s)=>(i(),v("tbody",{"data-slot":"table-body",class:R(o(x)("[&_tr:last-child]:border-0",t.class))},[_(e.$slots,"default")],2))}}),Se=g({__name:"TableCell",props:{class:{}},setup(a){const t=a;return(e,s)=>(i(),v("td",{"data-slot":"table-cell",class:R(o(x)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t.class))},[_(e.$slots,"default")],2))}}),Ee=g({__name:"TableRow",props:{class:{}},setup(a){const t=a;return(e,s)=>(i(),v("tr",{"data-slot":"table-row",class:R(o(x)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t.class))},[_(e.$slots,"default")],2))}}),Me=g({__name:"TableHead",props:{class:{}},setup(a){const t=a;return(e,s)=>(i(),v("th",{"data-slot":"table-head",class:R(o(x)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t.class))},[_(e.$slots,"default")],2))}}),Te=g({__name:"TableHeader",props:{class:{}},setup(a){const t=a;return(e,s)=>(i(),v("thead",{"data-slot":"table-header",class:R(o(x)("[&_tr]:border-b",t.class))},[_(e.$slots,"default")],2))}}),de=g({__name:"Pagination",props:{page:{},defaultPage:{},itemsPerPage:{},total:{},siblingCount:{},disabled:{type:Boolean},showEdges:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:page"],setup(a,{emit:t}){const e=a,s=t,c=F(e,"class"),r=K(c,s);return(p,m)=>(i(),k(o(ae),S({"data-slot":"pagination"},o(r),{class:o(x)("mx-auto flex w-full justify-center",e.class)}),{default:b(f=>[_(p.$slots,"default",j(V(f)))]),_:3},16,["class"]))}}),pe=g({__name:"PaginationContent",props:{asChild:{type:Boolean},as:{},class:{}},setup(a){const t=a,e=F(t,"class");return(s,c)=>(i(),k(o(oe),S({"data-slot":"pagination-content"},o(e),{class:o(x)("flex flex-row items-center gap-1",t.class)}),{default:b(r=>[_(s.$slots,"default",j(V(r)))]),_:3},16,["class"]))}}),fe=g({__name:"PaginationItem",props:{value:{},asChild:{type:Boolean},as:{},size:{default:"icon"},class:{},isActive:{type:Boolean}},setup(a){const t=a,e=F(t,"class","size","isActive");return(s,c)=>(i(),k(o(ne),S({"data-slot":"pagination-item"},o(e),{class:o(x)(o(D)({variant:a.isActive?"outline":"ghost",size:a.size}),t.class)}),{default:b(()=>[_(s.$slots,"default")]),_:3},16,["class"]))}}),ge={key:0,class:"flex items-center justify-between gap-4"},me={class:"shrink-0 whitespace-nowrap text-sm text-muted-foreground"},he={class:"font-medium"},ve={class:"font-medium"},_e={class:"font-medium"},be={class:"list-none"},Pe={key:0,class:"flex size-9 list-none items-center justify-center"},ye={class:"list-none"},ze=g({__name:"Pagination",props:{data:{},preserveQuery:{type:Boolean,default:!0}},setup(a){const t=a,e=y(()=>t.data.last_page),s=y(()=>t.data.current_page),c=y(()=>t.data.last_page>1),r=y(()=>t.data.prev_page_url!==null),p=y(()=>t.data.next_page_url!==null);function m(){const n=[],l=s.value,u=e.value;if(u<=7){for(let d=1;d<=u;d++)n.push(d);return n}if(l<=3){for(let d=1;d<=4;d++)n.push(d);n.push("ellipsis"),n.push(u)}else if(l>=u-2){n.push(1),n.push("ellipsis");for(let d=u-3;d<=u;d++)n.push(d)}else n.push(1),n.push("ellipsis"),n.push(l-1),n.push(l),n.push(l+1),n.push("ellipsis"),n.push(u);return n}function f(n){if(n<1||n>e.value||n===s.value)return;const l=new URL(t.data.path,window.location.origin);t.preserveQuery&&new URLSearchParams(window.location.search).forEach((d,E)=>{E!=="page"&&l.searchParams.set(E,d)}),l.searchParams.set("page",n.toString()),J.visit(l.pathname+l.search,{preserveState:!0,preserveScroll:!0})}function h(){r.value&&f(s.value-1)}function I(){p.value&&f(s.value+1)}const B=y(()=>m());return(n,l)=>c.value?(i(),v("div",ge,[P("div",me,[a.data.from&&a.data.to?(i(),v(q,{key:0},[l[0]||(l[0]=$(" Showing ",-1)),P("span",he,N(a.data.from),1),l[1]||(l[1]=$(" to ",-1)),P("span",ve,N(a.data.to),1),l[2]||(l[2]=$(" of ",-1)),P("span",_e,N(a.data.total),1),l[3]||(l[3]=$(" results ",-1))],64)):(i(),v(q,{key:1},[$(" No results ")],64))]),C(o(de),{total:a.data.total,"items-per-page":a.data.per_page,"sibling-count":1,"default-page":a.data.current_page,"aria-label":"Pagination navigation"},{default:b(()=>[C(o(pe),{class:"flex items-center gap-1"},{default:b(()=>[P("li",be,[C(o(G),{variant:"ghost",disabled:!r.value,onClick:M(h,["prevent"]),"aria-label":`Go to previous page (page ${s.value-1})`,class:"gap-1 px-2.5"},{default:b(()=>[C(o(ie),{class:"h-4 w-4"}),l[4]||(l[4]=P("span",{class:"hidden sm:block"},"Previous",-1))]),_:1},8,["disabled","aria-label"])]),(i(!0),v(q,null,O(B.value,(u,d)=>(i(),v(q,{key:`page-${d}`},[u==="ellipsis"?(i(),v("li",Pe,[C(o(ue),{class:"h-4 w-4"}),l[5]||(l[5]=P("span",{class:"sr-only"},"More pages",-1))])):(i(),k(o(fe),{key:1,value:u,"is-active":u===s.value,class:"h-9 w-9",onClick:M(E=>f(u),["prevent"]),"aria-label":`Go to page ${u}`,"aria-current":u===s.value?"page":void 0},{default:b(()=>[$(N(u),1)]),_:2},1032,["value","is-active","onClick","aria-label","aria-current"]))],64))),128)),P("li",ye,[C(o(G),{variant:"ghost",disabled:!p.value,onClick:M(I,["prevent"]),"aria-label":`Go to next page (page ${s.value+1})`,class:"gap-1 px-2.5"},{default:b(()=>[l[6]||(l[6]=P("span",{class:"hidden sm:block"},"Next",-1)),C(o(Y),{class:"h-4 w-4"})]),_:1},8,["disabled","aria-label"])])]),_:1})]),_:1},8,["total","items-per-page","default-page"])])):Q("",!0)}});export{Ne as S,qe as _,Te as a,Ee as b,Me as c,Le as d,Se as e,ze as f};
