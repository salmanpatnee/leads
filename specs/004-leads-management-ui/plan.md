# Implementation Plan: Leads Management UI

**Branch**: `004-leads-management-ui` | **Date**: 2026-01-19 | **Spec**: [specs/004-leads-management-ui/spec.md](./spec.md)
**Input**: Feature specification from `/specs/004-leads-management-ui/spec.md`

## Summary

Implement the Leads Management module comprising a backend Controller (`LeadController`) to serve paginated, filtered, and searchable lead data, and a frontend Vue/Inertia UI (`Index.vue`, `Show.vue`) built with `shadcn-vue` components. This module enables administrators to browse, search, and inspect form submissions from WordPress sites.

## Technical Context

**Language/Version**: PHP 8.3 / Laravel 12
**Primary Dependencies**: Inertia.js v2, Vue 3, Tailwind CSS 4, shadcn-vue
**Storage**: MySQL (via Eloquent)
**Testing**: Pest v4 (Feature tests), optionally Dusk (Browser tests)
**Target Platform**: Web (Desktop/Tablet)
**Project Type**: Web Application
**Performance Goals**: < 500ms response time for leads list; instant UI transitions.
**Constraints**: Admin authentication required.

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

- [x] **API-First**: While this is a UI feature, it relies on the same data model populated by the API. The UI consumes internal controllers.
- [x] **Flexible Data**: The `form_data` JSON column is handled correctly (casted to array/object) and displayed dynamically.
- [x] **Test-First**: Plan includes Pest tests for controller logic.
- [x] **Laravel Conventions**: Uses standard Controllers, Models, and Inertia rendering.
- [x] **Security**: Auth middleware applied.
- [x] **Simplicity**: Reusing existing UI components and patterns.

## Project Structure

### Documentation (this feature)

```text
specs/004-leads-management-ui/
├── plan.md              # This file
├── research.md          # Technology choices and rationale
├── data-model.md        # Entity definitions and schema
├── quickstart.md        # Testing and running instructions
├── contracts/           # JSON contracts for Inertia props
└── tasks.md             # Task breakdown (generated by sp.tasks)
```

### Source Code (repository root)

```text
app/
├── Http/
│   ├── Controllers/
│   │   └── LeadController.php
│   └── Requests/
│       └── Lead/
│           └── UpdateLeadStatusRequest.php
├── Models/
│   └── Lead.php
└── Enums/
    └── LeadStatus.php

resources/js/
├── pages/
│   └── leads/
│       ├── Index.vue
│       └── Show.vue
└── components/
    └── (reusing existing shadcn-vue components)

tests/
├── Feature/
│   └── LeadManagementTest.php
└── Browser/
    └── LeadsBrowserTest.php
```

**Structure Decision**: Standard Laravel application structure with Inertia.js pages in `resources/js/pages`.

## Complexity Tracking

| Violation | Why Needed | Simpler Alternative Rejected Because |
|-----------|------------|-------------------------------------|
| None | N/A | N/A |